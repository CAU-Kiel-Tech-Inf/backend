<%
render_tabnav :contest, :html => { :class => "tabs_tabnav" } do

  add_tab do |t|
    t.named t("titles.overview")
    begin; t.disable!; next; end if @contest.new_record?
    t.links_to hash_for_contest_url
  end

  show_to :administrator do

    add_tab do |t|
        t.named t("actions.create").capitalize
        t.links_to hash_for_new_contest_url
        t.highlights_on :controller => "contests", :action => "create"
    end if @contest.new_record?

    add_tab do |t|
      t.named t("titles.schedule")
      begin; t.disable!; next; end if @contest.new_record?
      t.links_to hash_for_contest_edit_schedule_url
    end

  end

  add_tab do |t|
    t.named Contestant.human_name(:count => 2)
    begin; t.disable!; next; end if @contest.new_record?
    t.links_to hash_for_contest_contestants_url
  end

  add_tab do |t|
    t.named t("views.my") + " " + Contestant.human_name(:count => 2)
    begin; t.disable!; next; end if @contest.new_record?
    t.links_to hash_for_my_contest_contestants_url
  end if logged_in? and current_user.contestants.visible.for_contest(@contest).count > 1

  add_tab do |t|
    t.named t("titles.matchdays.list")
    begin; t.disable!; next; end if @contest.new_record?
    t.links_to hash_for_contest_matchdays_url
    t.disable! unless @contest.ready?
  end

  add_tab do |t|
    t.named t("titles.ranking")
    begin; t.disable!; next; end if @contest.new_record?
    t.links_to hash_for_contest_standings_url
    t.disable! unless @contest.last_played_matchday
  end

  add_tab do |t|
    t.named t("titles.results")
    begin; t.disable!; next; end if @contest.new_record?
    t.named "#{@contest.last_played_matchday.position}. Spieltag" if @contest.last_played_matchday
    t.links_to hash_for_contest_results_url
    t.disable! unless @contest.last_played_matchday
  end

end
%>
