<style type="text/css">
  .played,
  .fc-agenda .played .fc-event-time,
  .played a {
    background-color: green; /* background color */
    border-color: green;     /* border color (often same as background-color) */
    color: white;           /* text color */
  }
</style>

<div id="actions">
  <% if @contest.ready? and !@contest.begun? %>
    <% link_to reset_matchdays_contest_url, :method => "post" do %>
      <%= image_tag('actions/destroy.png') %> <%= t "views.clear_schedule" %>
    <% end %>
  <% end %>
</div>

<h1>
  <%= @contest.name %>
</h1>

<% tabnav :contest do %>
  <% unless @contest.ready? %>
    <% contestant_count = @contest.contestants.visible.count %>
    <% if contestant_count <= 1 %>
      <%= t("views.need_more_contestants_for_contest", {:count => contestant_count, :contestant_name => Contestant.human_name(:count => contestant_count)}) %>
    <% else %>
      <% semantic_form_for :schedule, :url => refresh_matchdays_contest_url, :method => :post do |f| %>
        <% matchday_count = @contest.estimate_matchday_count %>
        <p>
          Der Wettbewerb hat <b><%= contestant_count %> <%= Contestant.human_name(:count => contestant_count) %></b>
          und wird somit <b><%= matchday_count %> <%= Matchday.human_name(:count => matchday_count) %></b> haben.
        </p>
        <% f.inputs do %>
          <%= f.input :start_at, :as => :date, :label => "Erster Spieltag" %>
          <% days = (0..6).collect { |i| [t("date.abbr_day_names")[i], i] } %>
          <%= f.input :weekdays, :as => :check_boxes, :collection => days, :selected => [1,4],
            :hint => "Einzelne Daten können nachträglich verschoben werden.", :label => "Wochentage",
            :wrapper_html => { :class => "horizontal" } %>
        <% end %>
        <%= f.buttons %>
      <% end %>
    <% end %>
  <% else %>
    <%= render :partial => "calendar" %>
  <% end %>
<% end %>
