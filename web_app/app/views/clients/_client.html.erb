<tr id="client-<%= client.id %>" class="<%= cycle('odd', 'even') %>;">
  <td>
    <% if client.current? %>
      <b>Aktiv</b>
    <% elsif client.functional? %>
      <%= link_to "AuswÃ¤hlen", select_contestant_client_url(client.contestant, client), :method => :post %>
    <% elsif client.tested? %>
      <%= client.test_results.join('/') %> bestanden
    <% elsif client.testable? %>
      <%= link_to "Testen", test_contestant_client_url(client.contestant, client), :method => :post %>
    <% end %>
  </td>
  <td>
    &nbsp;
    <% if client.testing? %>
      <%= image_tag("ui/spinner.gif") %>
      <script type="text/javascript">
        //<![CDATA[
        setTimeout(function() {
          jQuery.ajax({
            data:'authenticity_token=' + encodeURIComponent('<%= form_authenticity_token %>')
            ,dataType:'script'
            ,type:'get'
            ,url:'<%= contestant_client_status_url(client.contestant, client) %>'
          })
        }, 3 * 1000)
        //]]>
      </script>
    <% elsif client.tested? %>
      <% if client.functional? %>
        <%= image_tag("state/ok.png") %>
      <% else %>
        <%= image_tag("state/warning.png") %>
      <% end %>
    <% end %>
  </td>
  <td><%=h client.file_file_name %></td>
  <td><%=h client.main_file_entry.try(:file_name) %></td>
  <td>
    <b style="font-size: 11px;"><%=h l(client.created_at.try(:to_date), :format => :long) %></b><br/>
    Von <%= client.author.name %>
  </td>
  <td>
    <% if client.testing? %>
      <b style="font-size: 11px;">Seit <%= (Time.now - client.test_match.job.created_at).round %> Sekunden</b><br/>
      <span>Wird getestet&hellip; (<%= match_progress(client.test_match) %>)</span>
    <% elsif !client.functional? %>
      <%= link_to 'Bearbeiten', edit_contestant_client_url(client.contestant, client) %>
    <% end %>
  </td>
</tr>