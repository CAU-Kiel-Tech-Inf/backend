<tr id="create_comment_<%= client.id %>" style="display: none">
  <td colspan="3"></td>
  <td colspan="2" style="text-align: left">
    <b>Kommentar erstellen:</b>
    <% form_remote_tag :url => [:create_comment, @context, client.contestant, client], :complete => "show_comments_for("+client.id.to_s+")" do %>
      <%= text_area_tag :text, "", :id => "text", :style => "width: 100%" %><br>
      <p style="text-align: right">
        <% if defined?(no_cancel).nil? or not no_cancel%>
          <a href="#" id="cancel_comment_<%= client.id %>" style="margin-right: 10px">Abbrechen</a>
        <% end %> 
        <%= submit_tag 'HinzufÃ¼gen', :id => "submit_comment_" + client.id.to_s %>
      </p>
      <%= hidden_field_tag :client_id, client.id.to_s %>
      <%= hidden_field_tag :person_id, current_user.id %>
    <% end %>
  </td>
</tr>
 <% if defined?(not_bind_submit).nil? or not not_bind_submit %>
  <% javascript_tag do %>
    $(function() {
      $("input#submit_comment_<%= client.id %>").bind('click', function () {
        if($("tr#create_comment_<%= client.id %> textarea#text").val() == "") {
          return false;
        } else {
          $("tr#create_comment_<%= client.id %>").fadeOut(500)
          $("a#show_comments_<%= client.id %>").show() 
          //show_comments(<%= client.id %>)  
        }
      })
  
      $("a#cancel_comment_<%= client.id %>").bind('click', function() {
        $("tr#create_comment_<%= client.id %>").fadeOut(500)
        return false
      })
    })
  <% end %> 
<% end %>
