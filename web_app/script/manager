$:.unshift File.join(File.dirname(__FILE__), '..', 'lib')
require 'so_cha_manager'

puts "Running in stand-alone mode."
  
manager = SoChaManager::Manager.new

Signal.trap "INT" do
  puts "Terminating."
  manager.close
  exit
end

manager.connect!
manager.play [["p1", "./tmp/test/player1.zip", "run.exe"], ["p2", "./tmp/test/player2.zip", "run.exe"]]

while !manager.done?
  sleep 0.1
end

puts "Done."